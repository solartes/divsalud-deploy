<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <CENTER><body>
        <CENTER><h1> INFORMACIÓN PACIENTE  </h1><b/></CENTER>
        <h:form id="selecionarPaciente">
            <p:commandButton style="left: 450px" value="Seleccionar un nuevo paciente" 
                             onclick="PF('seleccionPacienteDialog').show()" />
        </h:form>
        <h:form id="PacienteViewForm">
            <h:panelGroup id="display">

                <p:panelGrid styleClass="panelgrid">
                    <p:row >
                        <p:column style="font-weight:bold; color: white; background: #339cdf" colspan="16">
                            <p:outputLabel value="DATOS PERSONALES"/>
                        </p:column>
                    </p:row>
                    <p:row>
                         <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_tipoIdentificacion}"/>
                        </p:column> 
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_identificacion}"/>
                        </p:column>
                         <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_nombre1}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_nombre2}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                                             
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.tipoIdentificacion}" title="#{bundle.ViewPacienteTitle_tipoIdentificacion}"/>
                        </p:column>

                        
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.identificacion}" title="#{bundle.ViewPacienteTitle_identificacion}"/>
                        </p:column>

                       
                        <p:column >
                            <h:outputText value="#{pacienteController.selected.nombre1}" title="#{bundle.ViewPacienteTitle_nombre1}"/>
                        </p:column>
                        
                        <p:column >
                            <h:outputText value="#{pacienteController.selected.nombre2}" title="#{bundle.ViewPacienteTitle_nombre2}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                         <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_apellido1}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_apellido2}"/>
                        </p:column>
                         <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_fechaNacimiento}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_raza}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_sexo}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                       
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.apellido1}" title="#{bundle.ViewPacienteTitle_apellido1}"/>
                        </p:column>
                        
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.apellido2}" title="#{bundle.ViewPacienteTitle_apellido2}"/>
                        </p:column>
                       
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.fechaNacimiento}" title="#{bundle.ViewPacienteTitle_fechaNacimiento}">
                                <f:convertDateTime pattern="MM/dd/yyyy" />
                            </h:outputText>
                        </p:column>
                        
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.raza.nombre}" title="#{bundle.ViewPacienteTitle_raza}"/>
                        </p:column>
                        
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.sexo}" title="#{bundle.ViewPacienteTitle_sexo}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                         <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_estado}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_ocupacion}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_facultad}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_estadoCivil}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_estrato}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.estado}" title="#{bundle.ViewPacienteTitle_estado}"/>
                        </p:column>
                        
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.ocupacion}" title="#{bundle.ViewPacienteTitle_ocupacion}"/>
                        </p:column>
                        
                        <p:column >
                            <h:outputText value="#{pacienteController.selected.facultad.nombre}" title="#{bundle.ViewPacienteTitle_facultad}"/>
                        </p:column>
                        
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.estadoCivil.nombre}" title="#{bundle.ViewPacienteTitle_estadoCivil}"/>
                        </p:column>
                        
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.estrato.nombre}" title="#{bundle.ViewPacienteTitle_estrato}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_escolaridad}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_programa}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;"  value="#{bundlePaciente.ViewPacienteLabel_deptoNacimiento}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_municipioNacimiento}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.escolaridad.nombre}" title="#{bundle.ViewPacienteTitle_escolaridad}"/>
                        </p:column>
                        <p:column >
                            <h:outputText value="#{pacienteController.selected.programa.nombre}" title="#{bundle.ViewPacienteTitle_programa}"/>
                        </p:column>
                        <p:column >
                            <h:outputText value="#{pacienteController.selected.deptoNacimiento.nombre}" title="#{bundle.ViewPacienteTitle_deptoNacimiento}"/>
                        </p:column>
                        <p:column colspan="2">
                            <h:outputText value="#{pacienteController.selected.municipioNacimiento.nombre}" title="#{bundle.ViewPacienteTitle_municipioNacimiento}"/>
                        </p:column>
                    </p:row>
                    <p:row >
                        <p:column style="font-weight:bold; color: white; background: #339cdf" colspan="16">
                            <p:outputLabel value="DATOS DE UBICACIÓN"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_deptoResidencia}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_municipioResidencia}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_zonaResidencia}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.deptoResidencia.nombre}" title="#{bundle.ViewPacienteTitle_deptoResidencia}"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.municipioResidencia.nombre}" title="#{bundle.ViewPacienteTitle_municipioResidencia}"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.zonaResidencia}" title="#{bundle.ViewPacienteTitle_zonaResidencia}"/>
                        </p:column>
                         
                    </p:row>

                    <p:row>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_direccion}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_telefono}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                         <p:column>
                            <h:outputText value="#{pacienteController.selected.direccion}" title="#{bundle.ViewPacienteTitle_direccion}"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.telefono}" title="#{bundle.ViewPacienteTitle_telefono}"/>
                        </p:column>
                    </p:row>
                    <p:row >
                        <p:column style="font-weight:bold; color: white; background: #339cdf" colspan="16">
                            <p:outputLabel value="DATOS DE AFILIACIÓN"/>
                        </p:column>
                    </p:row>
                    <p:row>
                         <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_tipoRegimen}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_categoriaAfiliado}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_tipoAfiliado}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_eps}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                       
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.tipoRegimen.nombre}" title="#{bundle.ViewPacienteTitle_tipoRegimen}"/> 
                        </p:column>
                        
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.categoriaAfiliado.nombre}" title="#{bundle.ViewPacienteTitle_categoriaAfiliado}"/>
                        </p:column>
                        
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.tipoAfiliado.nombre}" title="#{bundle.ViewPacienteTitle_tipoAfiliado}"/>
                        </p:column>
                        
                        <p:column colspan="8">
                            <h:outputText value="#{pacienteController.selected.eps.nombre}" title="#{bundle.ViewPacienteTitle_eps}"/>
                        </p:column>

                    </p:row>
                    <p:row >
                        <p:column style="font-weight:bold; color: white; background: #339cdf" colspan="16">
                            <p:outputLabel value="DATOS PERSONA RESPONSABLE"/>
                        </p:column>
                    </p:row> 
                    <p:row>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_parentesco}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_personaResponsable}"/>
                        </p:column>
                        <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_direccionPresponsable}"/>
                        </p:column>
                         <p:column>
                            <h:outputText style="font-weight: bold; color: black;" value="#{bundlePaciente.ViewPacienteLabel_telefonoPresponsable}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.parentesco.nombre}" title="#{bundle.ViewPacienteTitle_parentesco}"/>
                        </p:column>                      
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.personaResponsable}" title="#{bundle.ViewPacienteTitle_personaResponsable}"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.direccionPresponsable}" title="#{bundle.ViewPacienteTitle_direccionPresponsable}"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{pacienteController.selected.telefonoPresponsable}" title="#{bundle.ViewPacienteTitle_telefonoPresponsable}"/>
                        </p:column>
                    </p:row> 
                </p:panelGrid>

            </h:panelGroup>
        </h:form>

        <p:dialog id="PacienteSeleccion" widgetVar="seleccionPacienteDialog" modal="true" width="850" position="center"   header="Seleccionar paciente">
            <h:form id="PacienteListForm">
                <h:panelGrid columns="2" >
                    <p:outputLabel value="Buscar paciente:" />
                    <p:inputText  placeholder="Digite los nombres, apellidos o identificación" style="width: 300px;"  value="#{pacienteController.busquedaPaciente}" >
                        <p:ajax event="keyup" update="datalist" listener="#{pacienteController.buscarPaciente()}" />                                
                    </p:inputText>                          
                </h:panelGrid>

                <p:dataTable id="datalist" value="#{pacienteController.listaPacientesActivos}" var="item"
                             paginator="true"
                             rowKey="#{item.id}"
                             rows="10"

                             >
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundlePaciente.ListPacienteTitle_identificacion}"/>
                        </f:facet>
                        <h:outputText value="#{item.identificacion}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundlePaciente.ListPacienteTitle_nombre1}"/>
                        </f:facet>
                        <h:outputText value="#{item.nombre1}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundlePaciente.ListPacienteTitle_nombre2}"/>
                        </f:facet>
                        <h:outputText value="#{item.nombre2}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundlePaciente.ListPacienteTitle_apellido1}"/>
                        </f:facet>
                        <h:outputText value="#{item.apellido1}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundlePaciente.ListPacienteTitle_apellido2}"/>
                        </f:facet>
                        <h:outputText value="#{item.apellido2}"/>
                    </p:column>

                    <p:column>
                        <p:commandButton id="botonSeleccionarPaciente" value="Selecionar"   icon="ui-icon-plus"  update=":PacienteViewForm" action="#{pacienteController.setSelected(item)}" oncomplete="PF('seleccionPacienteDialog').hide()" />
                    </p:column>

                </p:dataTable>
            </h:form>
        </p:dialog>    

    </body></CENTER>
</html>